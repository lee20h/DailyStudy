# 소프트웨어 설계 기법

### 소프트웨어 설계 단계

계획 -> 요구사항 분석 -> __소프트웨어 디자인__ -> 구현 -> 테스팅 -> 운용과 관리

## 소프트웨어 설계 개요

- 시스템을 구현하기 위해 시스템을 여러 서브시스템으로 나누고 서브시스템의 요소를 하드웨어와 소프트웨어에 할당하는 것을 **시스템 설계**라 한다.
- 시스템 설계는 설계의 첫 단계로 시스템 전체의 구조를 결정하며, 구체적인 설계에 들어가기 전에 이루어진다.
- 소프트웨어 설계는 소프트웨어에 할당된 서브시스템을 설계하는 과정이다.
- 요구사항 분석은 응용 분야의 개념에 초점을 맞추지만, 소프트웨어 설꼐 단계에서는 컴퓨터의 개념으로 초점이 이동
- 분석 단계에서 밝혀진 요구사항은 설계를 위한 골격을 제공하며 설계는 그 위에 살을 붙여가는 과정
- 요구사항을 해결하기 위해 최소한 한 가지의 해결 방안은 가지고 있어야 하며, 가능하면 여러 해결 방법을 찾아내고 그들을 평가하는 것이 필요
- 소프트웨어 설계자는 여러 해결 방법 중 수행 시간, 기억장치 및 다른 비용과 자원들을 최소화 할 수 있는 방법을 선택하게 된다.

## 소프트웨어 설계 활동

- 설계는 관리적인 관점에서 크게 두 단계로 나뉜다.
- 첫 번째 단계인 **기본 설계 단계**(Preliminary design)에서는 소프트웨어 시스템의 구조와 데이털르 규명하며 사용자 인터페이스를 정의한다.
- 그 이후에 이루어지는 상세 설계 단계에서는 각 모듈의 구체적인 알고리즘에 초점을 맞추게 된다.
- 기본 설계는 상위 설계라고 부르기도 한다. 기본 설계에서 상세 설계로 진행하며 시스템의 추상화의 수준을 낮춘다.
- 설계 과정이 진행될수록 명세서에 더 구체적인 내용이 추가되어 설계 과정의 최종 산출물은 시스템 구현을 위한 기초로 사용

### 설계의 기술적인 관점

- 설계는 기술적인 관점에서 크게 **4가지** 활동, 즉 *데이터 설계*, *구조 설계*, *프로시져 설계*, *사용자 인터페이스 설계*로 나눌 수 있다.
    - 데이터 설계: 요구사항 분석 단계의 정보 모델링에서 밝혀진 정보를 이용하여 자료 구조와 데이터베이스를 설계한다.
    - 구조 설계: 기능 모델링과 동적 모델링에 나타난 결과를 이용하여 프로글매 구조상에 있는 각 구성 요소(모듈)들 사이의 관계를 기술한다.
    - 프로시져 설계: 각 모듈의 내부가 구체적으로 밝혀지며 어떤 알고리즘을 사용할지 결정한다.
    - 사용자 인터페이스 설계: 사용자가 시스템의 기능에 접근할 수 있도록 하는 사용자 인터페이스를 설계한다.

### 설계 가이드라인

1. 설계는 소프트웨어 구성 요소들 사이에 효과적인 제어를 가능하게 하는 계층 구조를 가져야한다.
2. 설계는 논리적으로 분할되어 모듈화되어야 한다. 일반적으로 기능에 의한 모듈화가 이루어지며 설계는 모듈들 사이의 계층 구조를 보여준다.
3. 모듈들 사이, 또는 외부 환경과의 인터페이스가 최소화되도록 설계되어야 한다. 이는 모듈 내부의 응집도는 높아야하고, 모듈들 사이의 결합도와 인터페이스는 최소화될수 있도록 설계되어야 함을 의미한다.
4. 분석 과정에서 나타난 결과를 활용하여 설계가 이루어져야 한다. 설계는 요구사항 분석 과정의 연장선상에서 보아져야 하며, 요구사항을 실현하기 위해 분석의 결과에 살을 붙여나가는 과정이다.

### 설계의 관리적 관점

- 기본 설계는 설계에 대한 경험이 많은 엔지니어가 하는 것이 일반적이며, 기본 설계가 이루어지면 상세 설계는 각 개발자가 분담하여 수행한다.
- 기본 설계 단계에서 우선 고려될 수 있는 것이 데이터에 대한 설꼐
- 기본 설계에서는 시스템이 필요한 정보(또는 객체)를 자료구조와 데이터베이스 설계에 반영
- 기본 설계 단계에서 사용자 인터페이스를 설계하는 것이 바람직
- 또한 기본 설계에서는 사용자의 요구사항을 만족시킬 수 있도록 시스템의 구조를 설정
- 일반적으로 상위레벨에서 시스템을 분할한 시스템 구성요소를 서브시스템이라 부름
- 서브시스템은 일반적으로 자료와 제어 구조를 포함하며 독립적으로 기능을 수행할 수 있고 컴파일될 수 있는 프로그램 구성요소를 일컫는다.
- 서브시스템은 어떠한 서비스를 제공하는가에 의해 구별되며, 서비스는 공통적인 목표를 제공하기 위해 필요로하는 기능들의 모임

## 설계의 고려 사항

- 소프트웨어 설계에 사용되는 기본 원리들이 있다. 소프트웨어 설계는 품질에 직접적인 영향을 미치며, 다음 단계인 구현, 시험 및 유지보수와 밀접한 관계를 가지고 있다.
- 컴퓨터 엔지니어(프로그래머)의 지혜는 작동하는 프로그램을 얻는 것과 올바르게 만드는 것의 차이점을 깨닫는 것에서 시작한다.
- 소프트웨어도 개발과 운용, 유지보수를 효과적으로 행하기 위해 구성 요소(모듈, 엔터티 등)들로 분할된다.
- 이들 요소들은 각기 서로 다른 기능을 수행하는 독립성을 가지고 있어야 한다.
- 분할에서 추구하는 중요한 원칙은 서로 연관되어 있는 부분들은 같은 구성요소에 있어야 하고, 연관이 없다면 연광성이 없는 구성요소들에 할당되어야 한다.

### 추상화

- 추상화는 엔지니어링 전 과정에서 이뤄지는 중요한 원리이다.
- 엔지니어링이란 추상화가 높은 단계에서 낮은 단계로 이동되는 과정
- 설계 과정에서도 높은 추상화 단계에서 낮은 추상화 단계로 나아가며, 이를 위해 단계적인 정재가 이뤄진다.
- 기본 설계에서 상세 설꼐로 나아가면 추상화의 수준은 낮아지고, 원시코드가 생성될 때 추상화는 최하위의 수준이 된다.
- 설계 단계에서 흔히 쓰는 추상화들은 **제어 추상화**, **과정 추상화 및 데이터 추상화**가 있다.

### 추상화 예시

- 두 개의 변수 값 Swap

```
temp := value1;
value1 := value2;
value2 := temp;
```

순서적 제어 구조 추상화

`value1 <-> value2`

이러한 추상화 매커니즘은 상세한 순서적 제어 구조의 내부 정보를 감추었지만 설계 단계에서의 명세 수준으로는 충분하며 이를 이용해 다음 단계에서 쉽게 코딩할 수 있다.

- 순환 제어 구조

```
for (회사의 모든 사업부) do
...
end for
```

순환 제어구조를 추상화시키면 회사의 각 사업부에 접근하는 방법에 대해 언급하지 않아도 된다.

- 과정 추상화란 어떤 기능을 수행하는 과정을 추상화하는 것
    - `ax + by = c`
    - `a'x + b'y = c'`
    - solve_equation(equationtype equ)
- 데이터 추상화도 제어 추상화 또는 과정 추상화와 같이 상세정보를 감추는 것이다.

### 데이터 추상화를 이용한 스택

```cpp
const int MAXSIZE = 100;

class stack {
    private:
        char stack_value[MAXSIZE];
        int top;
    public:
        stack()top = 0;;
        void push(char);
        char pop();
        void push(char x) {
            if(top+1 == MAXSIZE)
                error("stack is full";
            else
                stack_value[++top] = x;
        }
        void pop() {
            if (top == 0) {
                error("stack is empty");
                return NULL;
            }
            else 
                return stack_value[top--];
        }
};

int main() {
    stack st;
    char x, y;
    st.push('a');
    st.push('b');
    x = st.pop();
    y = st.pop();
    cout << x << y << endl;
}
```

메인에서 스택에 접근할 때 push, pop 오퍼레이션을 통해서만 접근 가능하다.