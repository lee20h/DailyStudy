# 객체지향 분석기법

## 객체지향 배경

객체지향 개발 방법론은 소프트웨어 위기를 극복하기 위한 개발 방법 중 가장 최근에 나타난 것으로, 현재까지 나타난 소프트웨어 개발의 문제점을 해결해줄 많은 장점을 보유하고 있다.

시스템은 요구사항 변경을 수용할 수 있어야 하며 이를 위해 유연성과 적응력을 갖도록 설계되어야만 한다. 그러나 현재 까지의 개발 방법으로는 시스템의 확장이나 변경이 용이하지 못해 많은 어려움을 겪고 있으며 이를 극복할 수 있는 매우 유용한 방법론이다.

객체지향 방법론은 데이터와 행위를 하나로 묶어 객체를 정의내리고 객체를 추상화시키는 작업이라고 할 수 있다. 객체지향 개발은 기존의 데이터와 행위가 분리되었던 개발 방법의 복잡성과 통합의 어려움을 극복하려는 데 있다.

### 객체지향 3관점

- 객체(정보) 관점
- 기능 관점
- 동적 관점

객체, 기능, 동적 모델링 각각 순서대로 적용되어 시스템에 요구되는 객체를 설명할 수 있다.

## 객체지향 분석방법 개요

객체지향 개발 방법은 우리가 태어나면서부터 배워온 객체 개념에 기초한다. 우리 인간은 자라면서 상대방을 인식하고 그의 속성을 찾아내고 그와의 관계를 알아낸다. 인간이 살아가는 과정은 자신과 다른 사람과의 관계를 넓혀 가는 객체지향 과정이다.

객체지향 개발 방법은 객체와 그의 속성과 동작, 유사한 객체의 집합으로 나누어진 클래스, 객체 사이의 관계 등을 기본 개념으로 한다. 객체지향 개발 방법은 객체지향 분석, 설계, 프로그래밍, 테스트로 이어져 소프트웨어 개발 전 과정에 걸쳐 동일한 방법론과 표현 기법이 적용될 수 있는 장점이 있다.

특히 객체지향 분석기법은 기존의 분석기법에 비해 실세계의 현상을 보다 정확히 모델링 할 수 있어 어려운 응용 분야들에 적용이 가능하다. 분석과 설계의 표현에 큰 차이점이 없어 시스템의 개발을 용이하게 해준다. 또한 분석, 설계, 프로그래밍의 결과가 큰 변화 없이 재사용될 수 있어 확장성이 용이하고 시스템 개발시 시제품이나 나선형 패러다임의 적용이 가능하다.

객체지향 개발 방법은 프로그래밍 기법만이 아니며 시스템 개발에 있어 근본적인 사고의 변환을 요구하는 새로운 기법이다. 객체지향 분석은 만들고자 하는 시스템을 객체 중심으로 기술하게 되며 이는 우리가 주로 해왔던 하향식방식과는 근본적으로 다르다.

객체지향 방법론은 객체 중심의 상향식 접근 방법이 도입되고, 기능 중심이 아니라 정보 중심, 데이터 중심으로 시스템의 개발이 이루어진다. 객체지향 개발 방법은 기존의 정보 모델링에 기초하고 있으며 여기서 나타난 객체의 정적인 정보에 객체의 동작을 추가시켜 **객체를 완벽하게 기술하고 구현하는 방법론**이다.

### 3가지 관점 통합

객체지향 방법론은 3가지 관점을 체계적으로 통합하여 유연성과 적응력을 가진 우수한 품질의 소프트웨어를 만들 수 있는 최적의 방법으로 여겨지고 있다.

객체지향 분석기법은 시스템의 요구사항을 분석하기 위해 앞에서 다룬 세 가지 모델링 기법을 단계별로 적용하여 그 결과를 통합한다.

`객체지향 분석기법(OMT) = 객체 모델 + 동적 모델 + 기능 모델`

### 객체지향 분석의 3 관점

1. 객체 모델링 : 정보 모델링이라고도 부르며 시스템에서 요구되는 객체를 찾아내어 객체들의 특성과 객체들 사이의 관계를 규명
2. 동적 모델링 : 객체 모델링에서 규명된 객체들의 행위와 객체들의 상태를 포함하는 라이프 사이클을 보여줌
3. 기능 모델링 : 각 객체의 형태 변화에서 새로운 상태로 들어갔을 때 수행되는 동작들을 기술하는데 사용

객체지향 개발 방법은 소프트웨거 공학에서 추구하는 많은 장점들을 제공한다. 객체지향 개발 방법을 제대로 활용하기 위해서는 기존의 기술과는 다른 높은 차원의 기술력을 분석가나 디자이너에게 요구한다. 소프트웨어 개발 과정에 대한 이해와 정보 모델, 동적 모델, 기능 모델에 대한 지식이 있어야 하며 모델들 사이의 연관성을 바탕으로 모델링의 결과를 통합할 수 있어야 한다.

## 객체 모델링

객체 모델링은 시스템에 요구되는 객체들을 보여줌으로써 주로 시스템의 정적인 구조를 포착하는 데 사용한다. 세 가지 모델링 중 객체지향 분석에서 가장 중요하며 선행되어야 할 모델링이다.

객체 모델링의 복잡도를 관리하기 위해 정보 모델링에서 언급된 **추상화**, **분류화**, **일반화**의 개념들이 사용된다. 또한 집단화 개념이 추가되어 다양한 객체들을 모아 더 높은 단계의 객체를 추출하는 작업이 이뤄진다.

객체 모델링은 시스템의 요구사항을 기술한 문제 기술로부터 시스템에 요구되는 객체들을 추출한다. 객체들이 발견된 다음 객체들 사이의 연관성을 찾아내고 객체들을 정의하기 위한 속성 추가한다.

### 객체지향의 용어

- 객체
- 클래스
- 속성
- 동작
- 일반화
- 특수화
- 집단화
- 상위클래스
- 하위클래스
- 상속
- 재사용

### 객체와 클래스

객체는 객체 모델링의 기본 단위이며 유사한 객체들의 모임이 클래스다. 앞에서 다룬 정보 모델링의 엔티티와 엔티티 타입에 해당한다. 객체는 가장자리가 다듬어진 사각형, 클래스는 사각형으로 표시한다.

### 클래스의 관계

클래스들 사이의 연관성은 관에 의해 표시되며 정보 모델링에서는 이름으로 표시된다. UML에서는 그 관계를 단순히 관계 이름만으로 표시할 수 있다. 만약 관계가 새로운 속성이나 동작을 가질 경우 클래스들 사이에 관계 속성을 표시하면 된다.

경우에 따라서 관계를 한 클래스로 모델링하는 것이 효과적인 경우가 있다. 이런 경우 관계는 하나의 클래스로 정의되어 속성과 동작을 가지게되며 다른 새로운 클래스와 연관을 맺을 수 있다.

### 매핑의 제약조건

기호는 클래스들 사이에 맺어질 수 있는 관계를 통해 객체들이 지켜야 하는 제약조건을 지정하는 것으로, 각 클래스의 객체들 사이에 맺어질 수 있는 매핑 제약조건과 참여 제약조건은 정보 모델링에서 다루어진 개념과 동일하다.

UML에서 표기하는 기호

- 1-1 : 일대일 (필수)
- 1-0..1 : 일대일 (선택)
- 1-* : 일대다 (0 or more)
- 1-1..* : 일대다 (필수)

### 일반화

유사한 클래스들 사이의 공유되는 속성과 동작을 묶어주며, 다른 한편 그들 사이의 다른 점을 보존할 수 있게 해주는 효과적인 추상화 기법이다. 일반화는 클래스들 사이의 특수한 관계로 볼 수 있으며 앞의 EER 모델에서도 이 개념이 소개된 바 있다.

**일반화**를 통해 클래스들 사이의 계층 구조가 만들어지며 각 하위 클래스는 상위 클래스의 속성, 동작, 그리고 다른 클래스와의 연관성을 상속받는다. 일반화를 통해 공통의 정보는 오직 한 번 정의 될 수 있어 분석의 결과를 재사용할 수 있게 해주며 데이터의 무결성을 향상시켜준다.

**특수화**는 일반화의 역작용으로, 특수화를 통해 하위 클래스로 정의되는 경우는 하위 클래스가 고유의 속성이나 동작을 가지고 있거나 하위 클래스가 다른 클래스들과 고유의 관계를 가지고 있을 때이다.

### 클래스의 일반화

일반화는 `is_a` 또는 `kind_of` 관계이며 각 하위 클래스의 인스턴스는 상위 클래스의 인스턴스가 된다. 일반화를 통해 다계층 구조를 만들어 나갈 수 있으며 이 경우 한 하위 클래스는 이 구조상에 있는 몯느 상위 클래스의 속성과 동작을 상속받는다.

### 다중 상속

하위 클래스는 두 개 이상의 상위 클래스에서 동시에 속성과 동작을 상속받는다. 이러한 현상을 다중 상속이라고 하며, 다중 상속으으로 인하여 분석 과정에서 모순이 발견될 수 있다. 모순이 속성이나 동작에서 감지되면 모호성을 없애기 위해 요구사항 명세서나 자료 사전에 이를 기록해야 한다.

### 집단화

클래스들 사이의 `부분-전체` 관계 또는 `부분` 관계로 설명되는 연관성을 나타낸다. 집단화는 여러 부속 객체들이 조립되어 하나의 객체가 구성되는 것을 의미한다.

집단화는 앞의 EER 모델에서는 구체적으로 나타내지 않던 개념이며 객체지향 기법에서는 활발히 사용되고 있다. 집단화 기호는 조그만 마름모 기호로 표시되며 매핑 제약조건과 참여 제약조건에 대한 기호는 일반화의 경우와 동일하다.

### 객체들 사이의 연관성

문제 기술에는 자세한 사항이 나와있지 않아 사용자와 상의하여 연관성과 구체적인 요구사항 규명해야 한다.

### 클래스의 속성

클래스와 클래스들 사이의 연관성이 밝혀진 다음 클래스의 특징을 밝혀주는 속성과 동작들이 밝혀져야 한다. 객체 모델링에서는 속성에 우선 초점을 맞추게 된다.

### 예시

현금 자동 지급기의 예시를 들면 
- ATM 시스템 문제 기술의 일부 : ATM은 은행 직원의 도움 없이 현금을 찾을 수 있게 해주는 장치이다. ATM은 현금카드를 받아들여 고객이 가지고 있는 구좌에서 현금을 지급하고 영수증을 출력한다. 은행은 고객의 구좌를 관리하며 ATM은 은행에 소속되어 있다.

- 문제 기술에서 요구되는 객체들
    - ATM
    - 현금 카드
    - 고객
    - 계좌
    - 은행

객체들 사이의 연관성을 사용자와 상의하여 연관성과 구체적인 요구 사항을 규명한다.

마지막으로 각 객체에 속성을 적게된다.

## 동적 모델링

객체 모델링을 통해 시스템에 요구되는 객체들의 구조와 객체들 사이의 관계 정립한다. 그 다음 시간의 흐름에 따른 객체들과 객체들 사이의 변화를 조사하게 되며 이를 **동적 모델링**이라고 한다.

동적 모델링은 객체들 사이의 제어 흐름, 상호 작용, 동작의 순서 등을 다룬다. 동적 모델의 중요한 개념은 상태, 사건, 동작 등이 있다.

객체지향 분석의 특징은 시스템에 요구되는 객체를 우선 구한 후 객체들의 동적인 면을 찾아내기 위해 동적 모델링을 적용한다는 점이다. 동적 모델은 다음에 나올 기능 모델과 관계가 있으며 시스템의 동작은 기능을 수행하기 위해 필요하다.

제안서로부터 객체 또는 시스템의 한 실행 과정을 사건들의 흐름으로 표시하는 시나리오를 만든다. 각 사건들은 객체 모델링에서 규명된 객체들 사이의 정보 흐름을 나타내게 되고 각 사건의 정보를 보내는 객체와 정보를 받는 객체가 밝혀진다.

사건의 순서와 사건을 주고받는 객체들이 사건추적도에 나타나게 되며 수직선은 객체를 표시하고 수평 화살표는 사건의 흐름을 나타낸다. 사건은 위에서 아래로의 순서에 의해 수행된다.

시나리오는 1~21번까지 쓰일 수 있고, 객체들과 사건의 흐름을 보여주는 시퀀스 다이어그램은 다음과 같다.

![image](https://user-images.githubusercontent.com/59367782/97780500-76794400-1bc8-11eb-8d3d-118de5bce3f7.png)


자동지급기의 상태변화도는 다음과 같다.

![image](https://user-images.githubusercontent.com/59367782/97780602-fa333080-1bc8-11eb-962c-a2f0384523f8.png)

계좌의 상태변화도는 다음과 같다.

![image](https://user-images.githubusercontent.com/59367782/97780669-50a06f00-1bc9-11eb-9055-97b88444819c.png)

## 기능 모델링

객체지향 분석기법에서 객체 모델링, 동적 모델링에 이어 시스템을 기술하는 세 번째 단계이다. 기능 모델은 입력값으로부터 계산을 거쳐 어떤 결과가 나타나는지를 보여주고, 이것이 어떻게 유도되었는지의 구현 방법은 고려하지 않는다. 또한 앞에서 다룬 기능 모델링과 마찬가지로 자료흐름도(DFD)를 사용할 수 있다.

DFD의 경우 입력 흐름은 프로세스를 통해 변환되어 출력 흐름으로 바뀌고, 다른 프로세스의 입력이나 외부로의 출력으로 작용한다.

기능 모델은 동적 모델링에서 나타난 동작 어떠한 기능으로 이루어져 있는지 보여주며 자료흐름도의 정보 흐름은 객체에 해당된다.

### 계좌 변경 동작의 기능

액티비티 다이어그램으로 표현할 수 있다.

![image](https://user-images.githubusercontent.com/59367782/97780768-f0f69380-1bc9-11eb-8efd-8187564d68a0.png)

## 객체지향 설계

분석 단계를 통해 앞으로 논의된 세 가지의 서로 다른 모델이 순서대로 개발된다. 세 모델을 하나로 통합하는 작업이 이뤄져야 하며, 이 단계는 일반적으로 **객체지향 설계단계**에 해당된다. 세 모델의 통합은 객체의 정적인 구조와 오퍼레이션을 함께 포함하여 객체를 정의하는 것을 의미한다. 이는 동적 모델의 사건, 동작 및 활동을 객체의 오퍼레이션에 매핑하고, 기능 모델의 프로세스를 객체 모델의 오퍼레이션에 통합시키는 것이다.

객체 수준의 **상태변화도**는 한 객체가 생명주기 동안 가질 수 있는 상태들을 기술 해준다. 상태의 변환은 객체의 오퍼레이션으로 매핑된다. 유사한 방법으로 객체에 주어진 사건은 다른 객체의 동작으로 나타내질 수 있다. 한 사건은 이전 사건에 의하여 초기화된 활동의 결과이며, 동작과 이에 반응하는 동작으로 매핑될 수 있다.

### 모델의 통합

자료흐름도는 다른 두 모델과 연관성을 가지고 있으며 상태 변환에 의하여 이루어진 동작은 기능 모델의 자료흐름도와 연관을 가질 수 있다. 이 경우 서로 연결되어 있는 프로세스의 집합들은 동작의 구체적인 목적을 표시해 준다. 

자료흐름도의 프로세스들은 상태변화도의 동작에 의하여 수행되는 하위 기능으로 나타내진다. 이들 동작의 일부는 자신에게 작용하는 동작일 수 있고 다른 객체에 보내지는 동작일 수도 있다.

대상객체는 오퍼레이션이 정의되고 속하여 있는 객체를 의미한다. 만약 프로세스가 입력흐름을 갖는다면 입력 흐름이 대상 객체가 될 수 있고 이 프로세스는 대상 객체의 오퍼레이션이 된다.

프로세스가 여러 입력 자료 흐름으로부터 하나의 출력값을 생성한다면 이 프로세스와 연관된 동작은 출력 클래스에 적용되는 동작으로 해석될 수 있다.

프로세스가 자료저장소나 외부 객체의 데이터를 읽거나 결과를 저장하는 경우, 자료저장소나 외부 객체가 이 오퍼레이션의 대상 객체가 된다. 이러한 가이드라인을 이용하여 객체 모델에 동적 모델과 기능 모델을 통합한다. 

그 결과는 객체에 속한 모든 가능한 정보, 객체들 사이의 관계, 객체의 오퍼레이션들을 나타낼 수 있게 되어 시스템에 대한 완벽한 기술이 이뤄진다. 객체들 사이의 관계는 상대 객체를 나타내는 포인터 변수를 객체의 속성으로 나타냄으로서 이뤄질 수 있다.

## 요약

- 객체지향 개발 방법은 시스템의 **확장**이나 변경을 쉽게 할 수 있는 뛰어난 기법으로 인식
- 객체지향 분석기법은 기존의 분석기법이 가지고 있는 한계점을 극복하고 시스템의 **3가지 관점을 체계적으로 통합**하여 기술하고, 확장성과 적응력이 뛰어난 시스템을 설계하는 것이 그 목적
- 객체지향 분석기법은 상향식 접근 방법이라 여겨질 수 있으며 이는 구조적 기법이 **순수 하향식**인 것과 대조
- 객체지향 개발 방법은 상향식 기법에서 발견되는 많은 장점 보유
- 객체지향 개발 방법은 우선 시스템에서 사용되는 데이터에 초점을 맞추기 때문에 변화에 잘 견디는 우수한 품질의 소프트웨어르 만들 수 있다.
- 객체지향 분석의 결과는 설계로 넘어가 큰 변화 없이 사용되며, 앞의 세 모델의 결과가 통합되어 완벽한 객체와 클래스의 구현이 가능하게 된다.

- 객체지향 개발 방법은 시스템의 **확장성이 용이**하고 엔지니어링의 결과를 **재사용**할 수 있어 원형 패러다임이나 나선형 패러다임을 적용한 시스템 개발에 많은 도움을 줄 수 이싿.
- 튼튼하고 견고한 시스템은 분석 과정에서 집중적으로 이뤄지는 철저한 검증 과정과 이에 따른 수정 없이는 불가능
- 기존의 구조적 기법 등 다른 접근 방법에서 객체지향으로의 변화에 요구되는 교육과 훈련이 필요
- 객체지향 개념과 설계 기법, 객체지향 언어를 배우는 데 비용이 요구
- 많은 프로그래머들이 객체 중심보다는 기능 중심에서 생각하여 시스템을 개발하여 왔으며 객체지향 사고로의 전환 및 문화의 변화를 필요로 한다.
- 깊은 클래스 계층 구조가 있는 경우와 시스템 작동 중 객체에 대한 동적 할당과 제거시 성능에 대한 문제가 제거될 수도 있다.
- 객체지향 개발 방법은 소프트웨어 공학의 목적인 *고품질의 소프트웨어를 얻을 수 있는 바른 기법*이며 **수정**, **이해**, **재사용**을 용이하여 많은 개발 분야에 확산
- *객체지향 설계는 응용분야의 관점*에서 컴퓨터 관점으로, *사용자 관점*에서 개발자 관점으로 이동하여 객체지향 분석 결과에 살을 붙여가는 과정
- 한편 객체지향 개발기법이 특히 적합한 응용분야들이 있다.
- 응용분야의 객체들이 논리적으로 잘 **분리**되며, 각 객체가 독립적인 자료구조와 오퍼레이션을 가지는 경우 효과적
- 그러나 객체지향 기법은 데이터보다는 성능을 중요시하며, 많은 계산을 요하는 시스템에서는 적합하지 않을 수 있다.