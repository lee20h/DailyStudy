# 정보 모델링

다수의 소프트웨어 시스템은 데이터베이스에 기초하고 있으며 많은 데이터를 처리하고 의사결정을 지원해주어야 한다.  
**정보 모델**은 시스템에 사용되는 정보 데이터를 중심으로 시스템의 정적인 정보구조를 나타내는 데 사용한다. 정보 모델링은 시스템에 필요한 **엔티티**들을 정의하고 이들 엔티티 사이의 연관성을 규명하는 작업이다. 이 모델은 시스템의 기능이나 동작에 초점을 맞추기보다는 시스템을 구성하고 있는 객체를 중심으로 객체의 특성을 정의한다.

## 개요

정보 모델링은 시스템에 사용되는 데이터 베이스의 구조를 알아내어 데이터를 개념적 차원에서 기술한다. 사용자의 관점에서는 시스템의 데이터가 저장되고 유지되는 것은 알 필요 없다. 개념적 차원에서의 기술이란 구현에 관한 세부 사항을 숨겨줌으로써 시스템의 데이터에 관한 요구사항만 기술한다.

따라서 정보 모델링은 데이터의 추상적인 면, 즉 사용자 관점만 표시한다. 구체적인 구현에 관한 세부 사항을 감춤으로써 복잡도를 관리할 수 있게 해야한다. 정보 모델링 중에서 가장 많이 사용되는 도구는 EER(Enhanced Entity-Relationship)모델이다.

## 엔티티, 속성, 엔티티 타입

- EER 모델은 시스템에 요구되는 기본적인 객체를 나타내는 엔티티와 객체들 사이의 연관성을 나타내는 관계로 구성되어 있다.  

- 엔티티는 독립적으로 존재하는 실세계의 사물, 객체를 나타낸다.

- 각 객체는 특정 속성의 모임에 의해 기술되며 속성값들에 의하여 다른 객체와 구별된다.

### 엔티티 타입

한 시스템 안에 같은 속성을 가지는 엔티티들의 집합을 엔티티 타입이라고 한다. 시스템에 요구되는 데이터의 특성을 규명할 경우에는 각각의 객체들을 기술하는 것보다 묶어진 엔티티 타입을 기술하는 것이 편리하다.  

- 분류화(classification) : 비슷한 엔티티를 묶는 작업으로, 분류화를 통해 묶여진 객체들은 같은 종류의 속성, 제약조건 및 동작의 유형을 공유
- 실례화(instantiation) : 분류화의 역작용으로 엔티티 타입에 속해있는 엔티티를 구별하여 참조하는 데 사용된다.

### 용어 비교

| 분야 | 예시 (대학교) | group |
|---|---|---|
| 정보 모델링, 데이터 베이스 | 엔티티 | 엔티티 타입 |
| 프로그래밍 언어 | 변수, 상수 | 데이터 타입 |
| 객체 지향 모델링 및 언어 | 객체(object) | 클래스 |
| 예(대학교) | 김철수, 이영희 | 학생 |

### 키(key) 개념

정보 모델링에 사용되는 중요한 개념 중의 하나로, 각각의 사람들이 구별되어야 하는 것 처럼 각각의 엔티티는 구별되어야 하며 각가의 엔티티를 구별할 수 있는 속성들의 모임이다.  

키의 값에 의해 각 엔티티는 유일하게 지정된다. 경우에 따라서 여러 속성이 모여서 키를 형성하는 경우도 있다. 이러한 경우 속성들의 집합이 키가 되어 각 엔티티를 유일하게 지정한다. 어떤 데이터 타입은 하나 이상의 키를 가질 수도 있다. 그 중 하나는 주 키(primary key)가 되며 나머지는 대체 키(alternate key)가 된다.

### EER 모델 표시법

사각형의 기호는 엔티티 타입, 타원형의 기호는 속성을 나타낸다. 선은 속성과 엔티티 타입을 연결하고 키 속성은 밑줄을 그어 구별한다. 또한 관계는 마름모로 표시한다.

일반적으로 데이터베이스에서 많이 사용하는 모델로 설계할 때 모델을 테이블이 아닌 이러한 모델로 표현을 많이 한다.

## 관계, 관계 타입, 제약조건

한 시스템이 여러 엔티티 타입을 갖는 것은 일반적이며 이들 사이에는 연관성이 존재한다.

- 관계 : 여러 엔티티 사이에 존재하는 연관성
- 관계 타입 : 같은 형태를 갖는 관계들의 집합

### 관계 타입

엔티티 타입과 맘찬가지로 고유의 속성들을 가질 수 있으며 참여하는 엔티티 타입의 키가 관계 타입의 키가 된다. 경우에 따라서는 참여하는 엔티티 타입의 키 이외에 다른 속성이 합쳐져 관계 타입의 키를 형성한다. EER 모델에서는 마름모 기호로 관계를 표시한다.

### 매핑 제약조건

EER 모델은 데이터들 사이에 지켜야할 제약조건을 지정할 수 있다. 매핑 제약조건은 하나의 관계 타입을 통하여 참여하는 데이터 타입에 속한 엔티티들 사이에 맺어질 수 있는 매핑 수를 제한한다.

- 일대일(one to one)
- 일대다(ont to many)
- 다대다(many to many)

### 참여 제약조건

한 엔티티가 관계에 참여하는 것이 필수인지 선택인지를 지정하여 주는 제약조건이다.

### 참조 무결성

두 엔티티 사이의 관계에 작용하는 제약조건으로 데이터의 일관성을 유지하기 위하여 필요하다. 관계에 속하는 데이터 중에서 참여 엔티티에서 오는 키의 속성값은 참여 엔티티에 있는 키의 속성값이어 함을 의미한다.

특히 관계형 데이터베이스에서 테이블 사이의 데이터 제약조건을 나타내는 것으로 중요한 의미를 가진다. 한 테이블에 있는 튜플은 다른 테이블에 있는 튜플을 참조하게 되고 이 때 다른 테이블에 존재하는 튜플만을 참조할 수 있음을 나타낸다.

### 관계 타입 차수

참여하는 엔티티 타입의 수로 일반적으로 3차 관계 타입은 2차 관계 타입들로 대치될 수 없다.  

- 2차 관계 타입 

![image](https://user-images.githubusercontent.com/59367782/97698128-65a6d080-1aeb-11eb-93e8-97d9b54b45d4.png)

- 3차 관계 타입

![image](https://user-images.githubusercontent.com/59367782/97698154-70f9fc00-1aeb-11eb-851e-dae2805a9a4a.png)

## 일반화 (Generalization)

엔티티 타입 사이에 유사성이 존재할 때 이 유사성을 모아 하나의 새로운 엔티티 타입을 정의내리는 것을 일반화라고 한다. 각 엔티티 타입은 고유의 속성을 가지고 있으며, 여러 엔티티 타입에 공통된 속성 또한 존재할 수 있다.  

- 상위 클래스 : 하위 클래스의 공통적인 속성을 갖는다.
- 하위 클래스 : 상위 클래스의 주 키와 하위 클래스 간의 공유되지 않는 정보를 갖는다.
- 상위 클래스에 있는 모든 속성은 하위 클래스에 상속
- 일반화의 관계는 `is_a` 또는 `kind_of` 관계

### 일반화와 특수화

클래스들 사이의 유사성을 표시하는 기법이 **일반화**로, 상위 클래스에 하위 클래스의 공통적인 속성을 표시하고 상위 클래스의 정보가 하위 클래스에 상속된다. 여기서 상속은 엔티티 타입의 정의를 단순화시키고, 기존에 정의되어 있는 엔티티 타입을 이용하여 새로운 클래스를 쉽게 정의할 수 있도록 해준다. 이러한 기법은 엔티티 타입의 공통점을 구체적으로 표시하는 기법이며 분석의 결과를 재사용할 수 있게 해준다.

**특수화**는 일반화의 역진행으로 한 엔티티 타입이 세분화된 하위 클래스로 나뉘어진다. 특수화를 통해 하위 클래스로 정의될 수 있는 경우는 하위 클래스가 고유의 속성을 가지고 있거나 하위 클래스가 다른 클래스들과 고유의 관계를 가지고 있을 때만 가능하다.

일반화를 통해 다계층 구조를 만들어갈 수 있으며 이 경우 한 하위 클래스는 구조상에 있는 모든 상위 클래스의 속성을 상속받는다.

### 중복성과 완전성

상위 클래스와 하위 클래스의 관계는 중복성과 완전성 제약조건에 의해 표시된다.
- 중복성 : 중복과 해체로 구분
- 완전성 : 전체와 일부로 구분

상위 클래스의 모든 엔티티가 하위 클래스에 꼭 존재하면 전체 관계에 있다고 하며 하위 클래스에 항상 있는 경우가 아니라면 일부 관계에 있다.

- 중복, 전체 특수화 `S+`
- 중복, 일부 특수화 `S`
- 해체, 전체 특수화 `SE+`
- 해체, 일부 특수화 `SE`

### 제약 조건과 설계

중복성 제약족건과 완전성 제약조건은 데이터베이스를 설계할 때 중요한 영향을 미친다. 객체지향 언어인 c++의 경우 전체 제약조건이 있는 경우 그 자체가 하위 클래스에 속하지 않는 독립적인 객체를 가지지 못함으로 이러한 상위 클래스를 추상 클래스라 부른다. 그리고 상위 클래스를 베이스 클래스(base class), 하위 클래스를 유도된 클래스(derived class)라고 부른다.

## 역할

클래스들 사이의 또다른 계층 구조를 나타내며 2개 또는 그 이상의 상위 클래스의 합집합으로 이뤄진 하위 클래스를 정의할 떄 사용한다. 역할이 사용되는 대부분의 경우 하위 클래스의 엔티티는 상위 클래스 중 오직 하나에 속한다. 따라서 선택적 상속이라고도 불린다.

### 역할과 일반화

역할 관계는 일반화와는 구별되는 개념이며 특수한 조건이 만족되면 일반화로 나타내어질 수 있다. 만약 역할 관계에 있는 모든 상위 클래스의 엔티티가 하위 클래스에 속하고 모든 상위 클래스가 같은 키 속성을 공유하면 역할 관계는 일반화의 관계로 나타낼 수 있다.  
결국 역할에 속한 하위 클래스를 정의할 때 상위 클래스의 키를 사용하기 어려워 새로운 키를 정의하게 되고 이를 대리 키라고 부른다.

## 정보 모델링의 예

대학교 데이터베이스에 포함되어야 하는 요구사항 : 

대학교에서는 학생들의 주민번호, 이름, 학번, 학년, 전공, 주소와 전화번호가 있다. 이 중 주민번호 이나 학번에 의해 각 학생들이 유일하게 구분된다.

각 과목은 과목 이름, 과목 번호, 학점수, 과목 수준을 가지며 과목 번호에 의해 유일하게 구분된다. 각 과목은 선수과목을 가진다.

각 교수는 주민번호, 이름, 주소, 전화번호, 전공분야가 필요하며 주민번호로 유일하게 구분된다. 그리고 각 학생들은 지도교수를 1명씩 갖는다.

각 섹션은 강의 교수, 학기, 연도, 섹션 번호, 과목 정보를 갖는다. 섹션 번호에 의해 각 섹션은 유일하게 구분된다. 학생들은 섹션을 수강하여 학점을 얻으며 각 섹션은 최소한 7~30명의 학생이 수강한다.

### 엔티티 타입 규명

엔티티 타입은 요구사항에서 명사로 표시되어 있으며 독립적으로 존재하고 우리가 추적해야할 필요가 있는 객체들의 모임이다. 필요로 하는 엔티티 타입을 요구사항에서 뽑아내야한다.

### 엔티티 가이드라인

엔티티 또는 엔티티 타입을 찾아내기 위해 앞에서와 같이 문제 기술을 읽거나 사용자와 인터뷰를 하는 것이 일반적이다. 또한 개인적인 지식이나 현재 보유하고 있는 파일, 업무진행 과정을 보여주는 도표도 활용될 수 있다.

*엔티티를 찾아내는 가이드라인*
1. 문제 기술에 명사가 있으면 엔티티로 고려
2. 만약 명사가 값을 가질 수 있으면 엔티티가 아니라 속성이 됨
3. 만약 분석가가 정보를 추적하고 싶으면 엔티티로 고려
4. 만약 엔티티인지 속성인지 구별이 가지 않는 경우 엔티티로 놓기.
5. 만약 데이터의 이름이 _id, _number, _code, _type 등으로 끝나면 엔티티 타입의 키가 될 가능성이 높음
6. 데이터에 관한 정의가 현재 있는 경우 그 데이터를 포함하고 있는 엔티티의 이름을 쉽게 찾을 수 있다.

또한 모델링을 하며 각 속성의 속성 값을 사용자에게 문의하여 가능한 값을 알아놓는 것이 바람직하다.

### 관계 가이드라인

관계 타입은 일반적으로 동사로 표시한다. 실제 관계 타입의 이름을 정할 경우 동사의 명사형을 쓰는 것이 바람직하다.

*관계(또는 관계 타입)를 찾아내는 가이드라인*
1. 문제 기술에 동사가 있으면 관계로 고려
2. 만약 불명확한 엔티티가 있으면 관게로 고려
3. 만약 데이터가 독립적인 두 엔티티를 기술하고 있으면 관계로 고려
4. 한 레코드가 둘 이상의 고유 번호(unique id)를 가지고 있으면 관계로 고려

이들 관계 타입의 매핑 제약조건과 참여 제약조건은 요구사항에 명시되어 있지 않은 경우가 많으므로 분석가는 이 시스템을 사용할 사용자들과 대화하여 구체적인 요구사항과 제약조건을 밝혀내야한다.

## 요약

- 현재 정보가 중요한 자산으로 인식되는 정보화 시대로 빠르게 옮겨가고 있으며 정보의 중요성은 나날이 증가
- 정보 모델링은 우리가 필요로 하는 정보를 체계적으로 구성할 수 있게 하여주며 다양한 역할을 수행하는 프로젝트 참여자들이 공통의 대화 수단으로 사용
- EER 모델은 가장 많이 사용되는 정보 모델링 도구이며 시스템에 요구되는 기본적인 객체를 나타내는 엔티티와 객체들 사이의 연관성을 보여준다.
- 각 객체는 특정 속성의 모임에 의해 기술되며 속성의 값에 의해 다른 객체와 구별
- 유사한 속성을 갖는 엔티티를 분류하여 엔티티 타입이 정의되고 엔티티 타입에 속한 엔티티들은 같은 종류의 속성, 제약조건 및 동작의 유형을 공유
- 정보 모델링의 결과는 물리적 데이터베이스(예: 관계형 데이터베이스)를 설계하는데 기본 골격을 제공
- 또한 정보 모델링은 여러 시스템의 데이터를 통합하는 시스템 통합 과정에서 필히 요구되는 도구