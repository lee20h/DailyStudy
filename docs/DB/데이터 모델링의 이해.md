

# 데이터 모델링의 이해  

## 데이터 모델링
데이터 모델링의 특징
- 추상화
- 단순화
- 명확성  

데이터 모델링 단계  
- 개념적 모델링 : 추상화 수준이 가장 높으며, 업무 측면에서 모델링
- 논리적 모델링 : 정규화를 통해서 재사용성을 높임
- 물리적 모델링 : 성능, 보안, 가용성 등을 고려하여 데이터베이스 구축

데이터 모델링 관점
- 데이터
- 프로세스
- 데이터와 프로세스  

데이터 모델링을 위한 ERD  
1) 엔터티를 도출하고 그린다.
2) 엔터티를 배치한다.
3) 엔터티 간의 관계를 설정한다.
4) 관계명을 서술한다.
5) 관계 참여도를 표현한다.
6) 관계의 필수 여부를 표현한다.  


데이터 모델링을 위한 ERD  고려사항
- 중요한 엔터티를 왼쪽 상단 배치
- ERD는 이해가 쉬워야하며, 너무 복잡하지 않게 해야함  

데이터 모델링 고려사항
- 데이터 모델의 독립성  
- 고객 요구사항의 표현  
- 데이터 품질 확보  

## **3층 스키마**  
- 외부 스키마 : 응용 프로그램이 접근하는 데이터베이스
- 개념 스키마 : 통합 데이터베이스 구조, 전체 데이터베이스 내의 규칙과 구조 표현
- 내부 스키마 : 개발자 관점으로, 데이터베이스의 물리적 저장 구조

| 독립성 | 설명 |
|:-----:|---|
| 논리적 독립성 | 개념 스키마가 변경되더라도 외부 스키마 영향X |
| 물리적 독립성 | 내부 스키마가 변경되더라도 개념 스키마 영향X |

## **엔터티**
엔터티 : 업무에서 관리해야 하는 데이터 집합, 저장되고 관리되어야 하는 데이터  

엔터티의 특징
- 식별자 : 유일한 식별자
- 인스턴스 집합 : 2개 이상의 인스턴스
- 속성 : 반드시 속성가져야 함
- 관계 : 다른 엔터티와 최소한 한 개 이상 관계
- 업무 : 업무에서 관리되어야 하는 집합  

엔터티의 종류  
- 유형과 무형에 따른 종류
  - 유형 엔터티 : 물리적 형태 O
  - 개념 엔터티 : 물리적 형태 X
  - 사건 엔터티 : 비즈니스 프로세스 실행하면서 생성
- 발생 시점에 따른 종류
  - 기본 엔터티 : 키 엔터티, 독립적 생성
  - 중심 엔터티 : 기본 엔터티와 행위 엔터티 중간
  - 행위 엔터티 : 2개 이상의 엔터티로부터 발생

## 속성
속성의 특징
- 하나의 값만 가짐
- 업무에서 관리되는 정보
- 주식별자에게 함수적으로 종속. 즉, 기본키가 변경되면 속성의 값도 변경

속성의 종류
- 분해 여부에 따른 종류
  - 단일 속성 : 하나의 의미
  - 복합 속성 : 여러 개의 의미
  - 다중값 속성 : 속성에 여러 개의 값 가짐, 엔터티로 분해됨
- 특성에 따른 종류
  - 기본 속성 : 본래의 속성
  - 설계 속성 : 데이터 모델링 과정에서 발생되며 유일한 값 부여
  - 파생 속성 : 다른 속성에 의해서 만들어짐

## 관계
관계의 종류
- 존재 관계 : 엔터티 간의 상태
- 행위 관계 : 엔터티 간의 어떤 행위

관계 차수 : 두 개의 엔터티 간에 관계에 참여하는 수  
관계 차수의 종류
- 1대1 관계 : 완전 1대1(엔터티와의 관계가 하나이며, 반드시 존재), 선택적 1대1(엔터티와의 관계가 하나이거나 존재X)
- 1대N 관계 : 엔터티에 행이 하나 있을 때 다른 엔터티의 값이 여러 개
- M대N 관계 : 두 개의 엔터티가 서로 여러 개의 관계, RDBMS에서는 M대N 관계이 Join은 카테시안 곱이므로 1대N, N대1로 해소  
- 필수적 관계와 선택적 관계

식별 관계와 비식별 관계
- 식별 관계
  - 독립적으로 존재하는 강한 개체
  - 다른 엔터티와 관계에서 기본키 공유
  - 강한 개체는 식별 관계로 표현
  - 기본 키 값이 변경되면 식별관계의 엔터티의 값도 변경
  - 공유 받은 엔터티는 약한 개체(외래키)
  - 식별 관계는 실선
- 비식별 관계
  - 강한 개체의 기본키를 다른 엔터티에서 일반 칼럼으로 관계를 가짐
  - 비식별 관계는 점선

## 엔터티 식별자
- 식별자의 종류
  - 대표성 여부에 따른 종류
    - 주식별자
      - 최소성
      - 대표성
      - 유일성
      - 불변성
    - 보조 식별자 : 대표성 X
      - 유일성
      - 최소성
  - 생성 여부에 따른 종류
    - 내부 식별자 : 엔터티 내부에서 스스로 생성됨
    - 외부 식별자 : 다른 엔터티와의 관계로 인해 만들어짐
  - 속성의 수에 따른 종류
    - 단일 식별자 : 하나의 속성
    - 복합 식별자 : 두 개 이상의 속성
  - 대체 여부에 따른 종류
    - 본질 식별자 : 비즈니스 프로세스에서 만들어짐
    - 인조 식별자 : 인위적으로 만들어짐

- 키의 종류
  - 기본키 : 후보키 중 엔터티 대표
  - 후보키 : 유일성과 최소성 만족
  - 슈퍼키 : 유일성 만족, 최소성 만족 X
  - 대체키 : 여러 개의 후보키 중에서 기본키를 선정하고 남은 키
  - 외래키 : 하나 혹은 다수의 다른 테이블의 기본 키 필드를 가리키는 것으로 **참조 무결성** 확인에 사용됨, 허용된 데이터 값만 DB에 저장을 위해서 사용